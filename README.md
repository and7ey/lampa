# Плагин "Кинопоиск" для Лампы

Добавляет в приложение [Лампа](https://cub.red/lampa) список фильмов из папки "[Буду смотреть](https://www.kinopoisk.ru/mykp/folders/3575/?format=mini)" на Кинопоиске. 

## Установка

1. Откройте приложение Лампа
2. Перейдите в Настройки - Расширения
3. Выберите "Добавить плагин"
4. Укажите следующий адрес плагина
```
https://and7ey.github.io/lampa/kinopoisk.js
```
5. В приложении в меню слева выберите "Кинопоиск"
6. Перейдите на любом устройстве по ссылке https://ya.ru/device и введите код из приложения Лампа (окно "Авторизация")
7. Подождите **несколько минут** для загрузки списка фильмов

## Текущие ограничения

- Загружаются только первые 50 фильмов
- Поиск фильмов в TMDB осуществляется только по названию, даже без года релиза - возможно нахождение некорректных фильмов
- Другие списки фильмов не поддерживаются

## Технические особенности
- Кинопоиск ограничивает доступ к данным (даже через API) через CORS Policy, потому в плагине используется CORS Proxy в виде Google Apps Script
- Данные авторизации (токен) хранятся в Local Storage браузера, выход из аккаунта возможен путем удаления этих данных (`kinopoisk_*`) или в [Управлении аккаунтом](https://passport.yandex.ru/profile/access) Яндекса
- "Опечатки" в коде наследуют наименования в исходном коде приложения Лампа: https://github.com/yumata/lampa-source
